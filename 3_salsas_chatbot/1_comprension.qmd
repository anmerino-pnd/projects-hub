---
title: "Comprensión del negocio"
format: 
    html:
         page-layout: article
toc-title: "Tabla de Contenidos"
toc: true
toc-depth: 3
---

::: {style="text-align: justify"}

Salsas Castillo es una empresa dedicada a la producción y comercialización de salsas picantes, soya, chamoy y otros productos. Su portafolio se distribuye a una amplia red de tiendas, restaurantes y mayoristas en todo México. Con un catálogo en constante crecimiento y una operación comercial dinámica, la empresa enfrenta el reto de gestionar grandes volúmenes de información interna de forma ágil y eficiente.

Actualmente, el acceso a datos específicos —como ventas, finanzas o documentación interna— suele ser un proceso manual y demandante, lo que dificulta responder con rapidez a consultas y limita la generación de análisis oportunos para la toma de decisiones. Esto ha impulsado la necesidad de una solución que centralice y automatice el acceso a la información.

**Objetivo del proyecto**:

Desarrollar un **chatbot inteligente** que funcione como asistente virtual para el personal de Salsas Castillo, permitiendo realizar consultas rápidas y precisas sobre datos de ventas, finanzas, facturas y documentos internos. El propósito es mejorar la eficiencia operativa, elevar la calidad de la toma de decisiones y fortalecer la comunicación interna.

**Impacto**:

La implementación de este chatbot permitirá a Salsas Castillo:

* **Agilizar el acceso a la información**: Reducir el tiempo que el personal dedica a buscar datos específicos en bases de datos o documentos.

* **Mejorar la precisión de los datos**: Proporcionar respuestas consistentes y actualizadas directamente de las fuentes de datos en tiempo real.

* **Fomentar la autonomía**: Empoderar a los empleados para obtener la información que necesitan sin depender de intermediarios y al alcance de su mano.

* **Optimizar la toma de decisiones**: Facilitar análisis rápidos y la generación de reportes para una gestión más proactiva.
:::

::: {style="text-align: justify"}

## 0.1 Objetivos de la línea de investigación

Esta iniciativa se enfoca en aprovechar la información existente de Salsas Castillo para crear un sistema de consulta inteligente.

El objetivo principal es desarrollar un chatbot en Telegram que funcione como un asistente virtual para la generación de análisis complejos, capaz de:

* **Interpretar consultas en lenguaje natural**: Permitir a los usuarios hacer preguntas complejas sin necesidad de conocimientos técnicos de bases de datos.
* **Acceder a datos dinámicos**: Conectarse directamente a las bases de datos transaccionales (PostgreSQL) para obtener información actualizada dentro de la base de datos.
* **Buscar en documentos internos**: Utilizar una base de datos vectorial para recuperar información de documentos como manuales, reglamentos, contratos, etc.
* **Generar reportes**: Crear y enviar reportes financieros en formato PDF a través de Telegram.

**Objetivos específicos**:

* **Integrar fuentes de datos**: Establecer conexiones robustas con las bases de datos en PostgreSQL.
* **Desarrollar herramientas de consulta**: Implementar funciones que permitan al LLM interactuar con SQL para extraer y procesar datos.
* **Construir una base de conocimiento vectorial**: Procesar documentos internos para crear embeddings y un vector store para búsquedas semánticas.
* **Implementar un agente conversacional**: Configurar un agente basado en LangChain que orqueste el uso del LLM y las herramientas.
* **Habilitar la generación de reportes PDF**: Desarrollar la capacidad de crear reportes dinámicos a partir de los datos consultados.
* **Desplegar el chatbot en Telegram**: Asegurar la funcionalidad completa del chatbot en la plataforma de Telegram, incluyendo la transcripción de audio.

**Criterios de éxito**:

1. **Precisión de las respuestas**: El chatbot debe proporcionar información precisa, exacta y relevante en al menos el 90% de las consultas cuando se trate de cálculos y uso de formulas.
2. **Fidelidad**: Debe ser fiel a la información extraída de las bases de datos sin presentar alucionaciones en al menos el 90% de las consultas.
3. **Capacidad de análisis**: Debe ser capaz de realizar análisis tanto básicos como complejos de datos y generar reportes comprensibles.
4. **Usabilidad**: La interacción a través de Telegram debe ser intuitiva y accesible para usuarios con diferentes niveles de conocimientos técnicos.

:::

::: {style="text-align: justify"}

## 0.2 Evaluación de la Situación Actual

Los recursos disponibles para este proyecto incluyen:

* **Datos**: Acceso a bases de datos PostgreSQL con información de ventas transaccionales y datos financieros consolidados.
* **Herramientas**: Python, FastAPI, LangChain, OpenAI API, PyMongo, Reportlab, y PostgreSQL.
* **Equipo humano**: El equipo de Salsas Castillo que provee la información y el contexto necesario para alinear el conocimiento del sistma, y el equipo de desarrollo del proyecto.

### 0.2.1 Requisitos, Supuestos y Restricciones

**Requisitos**:

* Acceso continuo y estable a las bases de datos PostgreSQL y MongoDB.
* Servidor donde se desplegará la API del sistema desarrollado.
* Credenciales válidas para las APIs de OpenAI y el token de Telegram.
* Comunicación fluida para la retroalimentación y validación de funcionalidades.

**Supuestos**:

* Las bases de datos de la empresa contienen la información necesaria y están estructuradas de manera que permitan las consultas requeridas sin complicaciones.
* La API de OpenAI y Telegram mantendrán su disponibilidad y rendimiento.
* El servidor proveído por la empresa estará siempre disponible para el equipo de desarrollo sin restricciones.

**Restricciones**:

* Posibles limitaciones en la tasa de llamadas a las APIs externas.
* La complejidad de las consultas SQL puede requerir optimización.
* La seguridad de la información debe ser una prioridad en todo momento.

:::

::: {style="text-align: justify"}

## 0.3 Terminología

Algunas de las terminologías clave para este proyecto son:

* `Python`: Lenguaje de programación de alto nivel, fundamental para el desarrollo del backend del chatbot.
* `FastAPI`: Framework de desarrollo web en Python para construir APIs de forma rápida y eficiente.
* `LangChain`: Herramienta para construir aplicaciones que combinan modelos de lenguaje con fuentes de datos externas y lógica personalizada.
* `Inteligencia Artificial (IA)`: Campo de la informática que desarrolla sistemas capaces de realizar tareas que requieren inteligencia humana.
* `Modelos de Lenguaje Grande (LLM)`: Modelos de IA entrenados con vastos volúmenes de texto para comprender y generar lenguaje natural. En este proyecto, se utiliza GPT-4.1 de OpenAI.
* `Sistema de Recuperación Aumentada con Generación (RAG)`: Técnica que combina LLMs con bases de datos externas para recuperar información relevante y generar respuestas más precisas y contextualizadas.
* `Representación Vectorial`: Proceso de convertir datos textuales en representaciones numéricas (vectores) para facilitar su análisis y búsqueda.
* `Modelo de Embeddings`: Algoritmo que transforma palabras o frases en vectores. Se utilizan OpenAI Embeddings para documentos internos.
* `Base de Datos Vectorial (FAISS)`: Sistema de almacenamiento optimizado para buscar y recuperar información midiendo la similitud entre vectores. Se utiliza para documentos internos.
* `Base de Datos SQL (Structured Query Language)`: Sistema de almacenamiento relacional que organiza los datos en tablas. En este proyecto, PostgreSQL es la fuente de datos transaccionales y financieros.
* `API (Interfaz de Programación de Aplicaciones)`: Conjunto de reglas que permite que diferentes sistemas de software se comuniquen entre sí.
* `API Key`: Clave de autenticación utilizada para acceder a servicios protegidos por una API.
* `Endpoint (API)`: Dirección específica dentro de una API donde se accede a una funcionalidad concreta.
* `Payload (HTTP)`: Contenido de los datos enviados en una solicitud HTTP.
* `Chatbot`: Programa que interactúa con los usuarios mediante lenguaje natural.
* `Telegram Bot API`: La interfaz de programación que permite a los desarrolladores crear bots que interactúan con los usuarios de Telegram.
* `Webhook`: Un mecanismo que permite a una aplicación recibir información en tiempo real de otra aplicación cuando ocurre un evento específico.
* `MongoDB`: Base de datos NoSQL utilizada para almacenar el historial de sesiones y los respaldos de mensajes.
* `OpenAI Whisper`: Modelo de IA para la transcripción de audio a texto.
* `Reportlab`: Librería de Python para la generación de documentos PDF.
`
:::

::: {style="text-align: justify"}

## 0.4 Beneficios

* **Acceso Instantáneo a la Información**: El personal puede obtener datos clave de ventas y finanzas en segundos, directamente desde Telegram.
* **Análisis de Datos Simplificado**: La capacidad de generar reportes en PDF con un análisis generado por el LLM democratiza el acceso a distintas perspectivas del negocio.
* **Reducción de Carga de Trabajo**: Disminuye la necesidad de consultas manuales a las bases de datos y/o la preparación de reportes rutinarios.
* **Mejora en la Productividad**: Permite a los equipos enfocarse en tareas de mayor valor al tener la información al alcance de la mano.
* **Innovación Tecnológica**: Salsas Castillo se posiciona a la vanguardia en el uso de IA para la gestión empresarial.

:::

::: {style="text-align: justify"}

## 0.5 Costos

* **Tiempo**: El desarrollo y la implementación del chatbot requieren una inversión de tiempo significativa del equipo de desarrollo.

* **Financieros**: Costos asociados a las suscripciones de APIs (OpenAI) y, potencialmente, a la infraestructura de servidores para el despliegue.

:::